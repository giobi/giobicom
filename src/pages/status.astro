---
import Layout from '@/layouts/Layout.astro';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import '../styles/global.css';

// Simulated service status data
const services = [
  {
    name: 'Website giobi.com',
    status: 'operational',
    uptime: '99.9%',
    lastCheck: '2024-01-20 16:45:00'
  },
  {
    name: 'Email Services',
    status: 'operational',
    uptime: '99.8%',
    lastCheck: '2024-01-20 16:45:00'
  },
  {
    name: 'Development Environment',
    status: 'operational',
    uptime: '99.5%',
    lastCheck: '2024-01-20 16:45:00'
  },
  {
    name: 'Backup Systems',
    status: 'operational',
    uptime: '100%',
    lastCheck: '2024-01-20 16:45:00'
  }
];

const incidents = [
  {
    date: '2024-01-15',
    title: 'Manutenzione programmata server',
    status: 'resolved',
    description: 'Aggiornamento sicurezza completato con successo.'
  }
];
---

<Layout 
  title="Status - giobi.com - Stato dei Servizi"
  description="Stato in tempo reale dei servizi di giobi.com. Monitora uptime, performance e eventuali interruzioni."
>
  <Header slot="header" />
  
  <section class="section-padding bg-black">
    <div class="container-custom">
      <div class="text-center mb-16">
        <h1 class="mb-6 text-green-300">[ STATUS ]</h1>
        <p class="text-xl text-green-500 max-w-3xl mx-auto font-mono">
          Stato in tempo reale dei nostri servizi e infrastruttura.<br>
          <span class="text-green-400">></span> Monitoriamo 24/7 per garantire la massima disponibilit√†.
        </p>
      </div>
      
      <!-- Overall Status -->
      <div class="text-center mb-12">
        <div class="retro-border bg-black p-6 max-w-md mx-auto">
          <div class="text-green-300 text-2xl font-bold uppercase tracking-wider mb-2">All Systems Operational</div>
          <div class="text-green-500 font-mono text-sm">Tutti i servizi funzionano correttamente</div>
        </div>
      </div>
      
      <!-- Services Status -->
      <div class="max-w-4xl mx-auto mb-12">
        <h2 class="text-2xl font-bold mb-6 text-green-300 uppercase tracking-wider">Stato Servizi</h2>
        <div class="space-y-4">
          {services.map((service) => (
            <div class="card p-6">
              <div class="flex items-center justify-between">
                <div>
                  <h3 class="text-lg font-bold text-green-300 uppercase tracking-wider">{service.name}</h3>
                  <p class="text-green-500 font-mono text-sm">Ultimo controllo: {service.lastCheck}</p>
                </div>
                <div class="text-right">
                  <div class="flex items-center space-x-2 mb-1">
                    <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                    <span class="text-green-300 font-mono text-sm uppercase">Operational</span>
                  </div>
                  <div class="text-green-500 font-mono text-sm">Uptime: {service.uptime}</div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
      
      <!-- Recent Incidents -->
      <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl font-bold mb-6 text-green-300 uppercase tracking-wider">Incidenti Recenti</h2>
        {incidents.length > 0 ? (
          <div class="space-y-4">
            {incidents.map((incident) => (
              <div class="card p-6">
                <div class="flex items-start justify-between">
                  <div>
                    <h3 class="text-lg font-bold text-green-300 uppercase tracking-wider mb-2">{incident.title}</h3>
                    <p class="text-green-500 font-mono text-sm mb-1">{incident.description}</p>
                    <p class="text-green-400 font-mono text-xs">{incident.date}</p>
                  </div>
                  <div class="text-green-300 font-mono text-sm uppercase border border-green-400 px-2 py-1">
                    {incident.status}
                  </div>
                </div>
              </div>
            ))}
          </div>
        ) : (
          <div class="card p-6 text-center">
            <p class="text-green-500 font-mono">Nessun incidente registrato negli ultimi 30 giorni.</p>
          </div>
        )}
      </div>
      
      <!-- Performance Metrics Placeholder -->
      <div class="max-w-4xl mx-auto mt-12">
        <h2 class="text-2xl font-bold mb-6 text-green-300 uppercase tracking-wider">Metriche Performance</h2>
        <div class="grid md:grid-cols-3 gap-6">
          <div class="card p-6 text-center">
            <div class="text-3xl font-bold text-green-300 mb-2">< 200ms</div>
            <div class="text-green-500 font-mono text-sm uppercase">Response Time</div>
          </div>
          <div class="card p-6 text-center">
            <div class="text-3xl font-bold text-green-300 mb-2">99.9%</div>
            <div class="text-green-500 font-mono text-sm uppercase">Uptime (30d)</div>
          </div>
          <div class="card p-6 text-center">
            <div class="text-3xl font-bold text-green-300 mb-2">0</div>
            <div class="text-green-500 font-mono text-sm uppercase">Incident (7d)</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <Footer slot="footer" />
</Layout>